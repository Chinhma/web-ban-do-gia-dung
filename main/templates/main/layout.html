{% load static %}
<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Website bÃ¡n hÃ ng</title>
    <link rel="stylesheet" href="{% static 'main/css/style.css' %}" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-row">
        <div class="header-left">
          <a href="/" class="brand">
            <div class="brand-icon">ğŸ </div>
            <div class="brand-name">HomeStore</div>
          </a>
        </div>

        <div class="header-center">
          <form action="{% url 'main:home' %}" method="get" class="search-form">
            <input
              type="text"
              name="q"
              placeholder="TÃ¬m kiáº¿m sáº£n pháº©m..."
              value="{{ q|default:'' }}"
            />
          </form>
        </div>

        <div class="header-right" id="navbarActions">
          {% if user.is_authenticated %}
          <div class="user-info">ğŸ‘¤ {{ user.username }}</div>
          <a href="{% url 'main:cart' %}" class="cart-link" id="cartLink"
            >ğŸ›’<span class="cart-badge" id="navCartBadge"
              >{% with user.cartitem_set.count as c %}{{ c }}{% endwith %}</span
            ></a
          >
          <a href="{% url 'main:orders' %}" class="link">ÄÆ¡n hÃ ng</a>
          {% if user.is_staff %}
          <a href="{% url 'main:dashboard' %}" class="link">Dashboard</a>
          {% endif %}
          <a href="{% url 'main:logout' %}" class="link">Logout</a>
          {% else %}
          <a href="{% url 'main:login' %}" class="btn btn-outline">ÄÄƒng nháº­p</a>
          <a href="{% url 'main:register' %}" class="btn btn-primary"
            >ÄÄƒng kÃ½</a
          >
          <a href="{% url 'main:cart' %}" class="cart-link"
            >ğŸ›’<span class="cart-badge" id="navCartBadge">0</span></a
          >
          {% endif %}
        </div>
      </div>

      <div class="container category-row">
        <nav class="category-nav">
          <a class="cat-item" href="#">
            <div class="icon">ğŸ </div>
            <span>Táº¥t cáº£ sáº£n pháº©m</span>
          </a>
          <a class="cat-item" href="#">
            <div class="icon">ğŸ³</div>
            <span>Dá»¥ng cá»¥ náº¥u Äƒn</span>
          </a>
          <a class="cat-item" href="#">
            <div class="icon">ğŸ½ï¸</div>
            <span>BÃ¡t Ä‘Ä©a</span>
          </a>
          <a class="cat-item" href="#">
            <div class="icon">â˜•</div>
            <span>Äá»“ uá»‘ng</span>
          </a>
          <a class="cat-item" href="#">
            <div class="icon">ğŸ“¦</div>
            <span>LÆ°u trá»¯</span>
          </a>
          <a class="cat-item" href="#">
            <div class="icon">ğŸ”Œ</div>
            <span>Thiáº¿t bá»‹ Ä‘iá»‡n</span>
          </a>
        </nav>
      </div>
    </header>

    {% if messages %}
    <div class="container mt-3">
      {% for message in messages %}
      <div class="flash {{ message.tags }}">{{ message }}</div>
      {% endfor %}
    </div>
    {% endif %}

    <main>{% block content %}{% endblock %}</main>

    <footer
      style="margin-top: 40px; padding: 20px 0; background: #fff; color: #666"
    >
      <div class="container">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <div>Â© 2026 MyShop</div>
          <div>
            <a href="/" style="color: #666; margin-left: 10px">Trang chá»§</a>
            {% if user.is_staff or user.is_superuser %}
            <a
              href="{% url 'main:dashboard' %}"
              style="color: #666; margin-left: 10px"
              >Dashboard</a
            >
            {% endif %}
          </div>
        </div>
      </div>
    </footer>
    {% block extra_js %}{% endblock %}
    <script src="{% static 'main/js/script.js' %}"></script>
  </body>
</html>
